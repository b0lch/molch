<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Molch Progress</title>
    <link href="https://fonts.googleapis.com/css2?family=Moo+Lah+Lah&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rock+3D&display=swap" rel="stylesheet">

    <style>
        body {
            background-color: rgb(0, 0, 0);
            margin: 0;
            padding: 0;
        }
        h1 {
            color: rgb(255, 255, 255);
            text-align: center;
            font-family: 'Rock 3D', cursive;
            font-size: 100px;
            margin-top: 40px;
        }
        #myProgress {
            width: 25%;
            background-color: grey;
            margin: 0 auto;
            border-radius: 25px;
            margin-top: 30px;
            height: 30px;
            overflow: hidden;
        }
        #myBar {
            height: 30px;
            background-color: rgb(255, 255, 255);
            border-radius: 25px;
            width: 0%;
            transition: width 0.5s ease;
        }
        #progressText {
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            color: black;
        }
        .Boot {
            font-family: 'Moo Lah Lah', cursive;
            font-size: 20px;
            background-color: black;
            color: white;
            border: 2px solid #000000;
            border-radius: 12px;
            padding: 10px 24px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>

    <h1>MolchOS</h1>

    <button class="Boot" id="startButton">Starte</button>

    <div id="myProgress">
        <div id="myBar">
            <span id="progressText">0%</span>
        </div>
    </div>

    <script>
        const bar = document.getElementById("myBar");
        const progressText = document.getElementById("progressText");

        let progressInterval = null;

        function setProgress(value) {
            bar.style.width = value + "%";
            progressText.textContent = value + "%";
        }

        function resetProgress() {
            clearInterval(progressInterval);
            progressInterval = null;
            setProgress(0);
        }

        function startProgress() {
            if (progressInterval) return; // prevent multiple intervals

            progressInterval = setInterval(() => {
                let currentWidth = bar.style.width.replace('%', '');
                let width = parseInt(currentWidth, 10) || 0;

                const randomIncrement = Math.floor(Math.random() * 8) + 1;
                width = Math.min(width + randomIncrement, 100);

                setProgress(width);

                console.log("Zufallszahl hinzugefÃ¼gt:", randomIncrement);

                if (width >= 100) {
                    clearInterval(progressInterval);
                    progressInterval = null;
                    alert("Fortschritt abgeschlossen!");
                }
            }, 2000);
        }

        // Attach click event to button
        document.getElementById("startButton").addEventListener("click", function () {
            resetProgress();
            startProgress();
        });

        // Optional: Reset on page load
        resetProgress();
    </script>

</body>
</html>
